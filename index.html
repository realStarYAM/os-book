<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS Book - La Saga Windows</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- √âcran de d√©marrage -->
    <div id="start-screen" class="screen active">
        <div class="title-container">
            <h1 class="main-title">OS BOOK</h1>
            <p class="subtitle">BIENVENUE</p>
            <div class="title-logo">
                <img src="logo/Windows_vista.png" alt="Windows Vista" class="floating-logo">
            </div>
        </div>

        <!-- Contr√¥les Audio -->
        <div class="audio-controls-start">
            <button id="audio-toggle" class="audio-btn" title="Activer/D√©sactiver le son"
                aria-label="Activer ou d√©sactiver le son" aria-pressed="false">
                üîä
            </button>
            <label for="volume-slider" class="sr-only">Volume</label>
            <input type="range" id="volume-slider" min="0" max="100" value="50" class="volume-slider">
        </div>

        <button id="start-btn" class="glow-button">
            <span>‚ñ∂ COMMENCER</span>
        </button>

        <button id="chapter-btn" class="chapter-select-btn">
            <span>üìñ Choisir un chapitre</span>
        </button>

        <p class="audio-notice">üéµ Cette exp√©rience contient de la musique et des effets sonores</p>
    </div>

    <!-- Modale de s√©lection de chapitres -->
    <div id="chapter-modal" class="chapter-modal">
        <div class="chapter-modal-backdrop"></div>
        <div class="chapter-modal-content">
            <button class="chapter-modal-close" aria-label="Fermer">‚úï</button>
            <h2 class="chapter-modal-title">üìñ S√©lectionner un chapitre</h2>
            <p class="chapter-modal-subtitle">Certains chapitres sont verrouill√©s jusqu'√† la fin du jeu</p>
            <div class="chapter-list" id="chapter-list">
                <!-- Chapitres g√©n√©r√©s dynamiquement par JS -->
            </div>
        </div>
    </div>


    <!-- Sc√®ne principale du Visual Novel -->
    <div id="vn-scene" class="screen">

        <!-- √âcran de transition entre sc√®nes -->
        <div id="transition-overlay" class="transition-overlay">
            <p id="transition-text" class="transition-text">The Next Day...</p>
        </div>

        <!-- Fond H√¥pital (Sc√®ne 1) -->
        <div id="hospital-bg" class="hospital-bg scene-bg active"></div>

        <!-- Fond Cimeti√®re (Sc√®ne 2) -->
        <div id="graveyard-bg" class="graveyard-bg scene-bg"></div>

        <!-- Fond Le Vide (Sc√®ne finale) -->
        <div id="void-bg" class="void-bg scene-bg"></div>

        <!-- Particules -->
        <div class="particles-bg"></div>

        <!-- Conteneur des tombes (Sc√®ne 2) -->
        <div id="graves-container" class="graves-container">
            <!-- Tombes g√©n√©r√©es dynamiquement par JS -->
        </div>

        <!-- Moniteur cardiaque -->
        <div id="heart-monitor" class="heart-monitor hidden">
            <div class="monitor-screen">
                <svg id="ecg-line" class="ecg-svg" viewBox="0 0 400 100" preserveAspectRatio="none">
                    <polyline id="ecg-path" class="ecg-path" points="0,50 400,50" />
                </svg>
            </div>
            <div class="monitor-label">‚ô• BPM: <span id="bpm-value">72</span></div>
        </div>

        <!-- Zone des personnages -->
        <div id="characters-container" class="characters-container hospital-scene">
            <div id="character-left" class="character-slot left">
                <img id="char-left-img" src="" alt="" class="character-sprite">
                <div id="char-left-name" class="character-name-tag"></div>
            </div>

            <div id="character-center" class="character-slot center">
                <img id="char-center-img" src="" alt="" class="character-sprite">
                <div id="char-center-name" class="character-name-tag"></div>
            </div>

            <div id="character-right" class="character-slot right">
                <img id="char-right-img" src="" alt="" class="character-sprite">
                <div id="char-right-name" class="character-name-tag"></div>
            </div>
        </div>

        <!-- Contr√¥les Audio In-Game -->
        <div class="audio-controls-game">
            <button id="audio-toggle-game" class="audio-btn-small" title="Son" aria-label="Activer ou d√©sactiver le son"
                aria-pressed="false">üîä</button>
        </div>

        <!-- Menu Pause In-Game -->
        <div id="vn-menu" class="vn-menu">
            <button id="menu-btn" class="menu-btn" title="Menu" aria-label="Ouvrir le menu">‚ò∞</button>
            <div id="menu-backdrop" class="menu-backdrop"></div>
            <div id="menu-panel" class="menu-panel">
                <h2 class="menu-title">‚è∏Ô∏è Pause</h2>
                <div class="menu-buttons">
                    <button class="menu-action-btn" data-action="resume">‚ñ∂Ô∏è Reprendre</button>
                    <button class="menu-action-btn" data-action="mute">üîä Son</button>
                    <div class="menu-speed-control">
                        <label for="typing-speed">‚å®Ô∏è Vitesse du texte</label>
                        <input type="range" id="typing-speed" min="0" max="100" value="35">
                        <span id="speed-label">Normal</span>
                    </div>
                    <hr class="menu-divider">
                    <button class="menu-action-btn warning" data-action="restart">üîÑ Recommencer</button>
                    <button class="menu-action-btn danger" data-action="toStart">üè† √âcran titre</button>
                </div>
            </div>
        </div>

        <!-- Zone de dialogue -->
        <div class="dialogue-container">
            <div id="speaker-name" class="speaker-name"></div>
            <div id="dialogue-box" class="dialogue-box">
                <div id="dialogue-text" aria-live="polite" aria-atomic="true">
                    <p id="dialogue-visual" aria-hidden="true"></p>
                    <span id="dialogue-live" class="sr-only"></span>
                </div>
            </div>
            <div class="dialogue-controls">
                <span id="continue-indicator" class="continue-indicator">‚ñº Cliquez pour continuer</span>
            </div>
        </div>

        <!-- Indicateur de progression -->
        <div class="progress-bar">
            <div id="progress-fill" class="progress-fill"></div>
        </div>
    </div>

    <!-- √âcran de fin avec g√©n√©rique d√©filant -->
    <div id="end-screen" class="screen">
        <!-- Le conteneur des cr√©dits sera g√©n√©r√© dynamiquement par JS -->
        <div id="credits-container" class="credits-container"></div>
    </div>

    <!-- Barre de contr√¥le Media Player style Aero -->
    <div id="taskbar-player">
        <div class="wmp-handle"></div>
        <div class="wmp-info">
            <span id="wmp-title">OS Book Soundtrack</span>
            <span id="wmp-timer">00:00</span>
        </div>
        <div class="wmp-controls">
            <img src="Media Player/Previous_Track.png" class="wmp-btn small" alt="Pr√©c√©dent">
            <img src="Media Player/Stop.png" class="wmp-btn small" onclick="stopAudio()" alt="Stop">
            <img src="Media Player/Break.png" id="play-pause-btn" class="wmp-btn big" onclick="togglePlayPause()"
                alt="Pause/Play">
            <img src="Media Player/Next_Track.png" class="wmp-btn small" alt="Suivant">
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>